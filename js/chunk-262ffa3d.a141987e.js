(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-262ffa3d"],{"46e6":function(t,e,i){},"53e0":function(t,e,i){"use strict";var s=i("46e6"),a=i.n(s);a.a},a434:function(t,e,i){"use strict";var s=i("23e7"),a=i("23cb"),n=i("a691"),r=i("50c4"),o=i("7b0b"),c=i("65f0"),l=i("8418"),u=i("1dde"),m=Math.max,f=Math.min,d=9007199254740991,p="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!u("splice")},{splice:function(t,e){var i,s,u,g,h,v,_=o(this),w=r(_.length),b=a(t,w),x=arguments.length;if(0===x?i=s=0:1===x?(i=0,s=w-b):(i=x-2,s=f(m(n(e),0),w-b)),w+i-s>d)throw TypeError(p);for(u=c(_,s),g=0;g<s;g++)h=b+g,h in _&&l(u,g,_[h]);if(u.length=s,i<s){for(g=b;g<w-s;g++)h=g+s,v=g+i,h in _?_[v]=_[h]:delete _[v];for(g=w;g>w-s+i;g--)delete _[g-1]}else if(i>s)for(g=w-s;g>b;g--)h=g+s-1,v=g+i-1,h in _?_[v]=_[h]:delete _[v];for(g=0;g<i;g++)_[g+b]=arguments[g+2];return _.length=w-s+i,u}})},c84b:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"safe_view",staticStyle:{width:"1000px"}},[i("el-button",{staticClass:"back",on:{click:function(e){return t.$router.back()}}},[t._v("返回列表")]),t.item?i("div",{ref:"img_box",staticClass:"view clearfix"},[i("div",{staticClass:"left"},[i("div",{staticClass:"img_box",on:{mousemove:t.move,mouseover:function(e){t.flag=!0},mouseout:function(e){t.flag=!1}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"jing",style:{left:t.left-100+"px",top:t.top-100+"px"}}),i("img",{attrs:{src:t.mid_img,alt:""}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"big_img_box"},[i("img",{style:{left:2*-t.left+200+"px",top:2*-t.top+200+"px"},attrs:{src:t.mid_img,alt:""}})]),i("div",{staticClass:"img_btns clearfix"},t._l(t.item.imgs,(function(e){return i("img",{key:e,class:{con:e==t.mid_img},attrs:{src:e,alt:""},on:{click:function(i){t.mid_img=e}}})})),0)]),i("div",{staticClass:"left right"},[i("h2",{staticClass:"title"},[t._v(t._s(t.item.title))]),i("p",{staticClass:"supplier"},[t._v(t._s(t.item.supplier))]),i("p",{staticClass:"price"},[t._v("￥"+t._s(t.item.price))]),i("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.add()}}},[t._v("添加到购物车")])],1)]):t._e(),i("div",{staticClass:"same"},[i("h4",[t._v("相似商品推荐")]),i("list",{staticClass:"list",attrs:{list:t.same_list}})],1)],1)},a=[],n=(i("4160"),i("fb6a"),i("a434"),i("d3b7"),i("e25e"),i("159b"),i("4795"),i("96cf"),i("b3f5")),r={beforeRouteEnter:function(t,e,i){var s;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Object(n["a"])("/detail?goodId="+t.params.goodId));case 2:s=e.sent,i((function(t){t.item=s.data[0],t.item.imgs=JSON.parse(t.item.imgs),t.mid_img=t.item.imgs[0]}));case 4:case"end":return e.stop()}}))},beforeRouteUpdate:function(t,e,i){var s;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Object(n["a"])("/detail?goodId="+t.params.goodId));case 2:s=e.sent,this.item=s.data[0],this.item.imgs=JSON.parse(this.item.imgs),this.mid_img=this.item.imgs[0],this.$store.commit("loading",!1),i();case 8:case"end":return e.stop()}}),null,this)},data:function(){return{item:null,mid_img:"",left:0,top:0,flag:!1,flag2:!1,same_list:[]}},watch:{item:function(t){var e,i,s,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return e=t.type_one,i=t.type_two,s=t.Id,this.same_list=[],n.next=4,regeneratorRuntime.awrap(this.$ajax("/goodList?type_one="+e+"&type_two="+i));case 4:a=n.sent,a.data.forEach((function(t,e){t.Id==s&&a.data.splice(e,1)})),this.same_list=a.data.slice(0,10);case 7:case"end":return n.stop()}}),null,this)}},computed:{value:function(){return parseInt(this.item.nice)%10}},methods:{move:function(t){var e=t.clientX,i=t.clientY,s=document.body.scrollTop||document.documentElement.scrollTop,a=this.$refs.img_box.offsetTop,n=this.$refs.img_box.offsetLeft;this.left=e-n,this.top=i-a+s,this.left<100&&(this.left=100),this.left>300&&(this.left=300),this.top<100&&(this.top=100),this.top>300&&(this.top=300)},add:function(){var t=this,e=this.$store.state.token;e?function(){var i,s;regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(t.$ajax("/add?goodId="+t.item.Id+"&token="+e));case 2:i=a.sent,s=i.data.code,0==s?(t.$message({message:"登录过期，即将跳转到登录页",type:"warning"}),setTimeout((function(){t.$router.push("/login?url="+t.$route.fullPath)}),2e3)):1==s?t.$message({type:"success",message:"添加成功"}):t.$message.error("添加失败,请稍后再试");case 5:case"end":return a.stop()}}))}():(this.$message({message:"您还没有登录，即将跳转到登录页",type:"warning"}),setTimeout((function(){t.$router.push("/login?url="+t.$route.fullPath)}),2e3))}}},o=r,c=(i("53e0"),i("2877")),l=Object(c["a"])(o,s,a,!1,null,"6e57d940",null);e["default"]=l.exports},e25e:function(t,e,i){var s=i("23e7"),a=i("e583");s({global:!0,forced:parseInt!=a},{parseInt:a})},e583:function(t,e,i){var s=i("da84"),a=i("58a8").trim,n=i("5899"),r=s.parseInt,o=/^[+-]?0[Xx]/,c=8!==r(n+"08")||22!==r(n+"0x16");t.exports=c?function(t,e){var i=a(String(t));return r(i,e>>>0||(o.test(i)?16:10))}:r},fb6a:function(t,e,i){"use strict";var s=i("23e7"),a=i("861d"),n=i("e8b5"),r=i("23cb"),o=i("50c4"),c=i("fc6a"),l=i("8418"),u=i("1dde"),m=i("b622"),f=m("species"),d=[].slice,p=Math.max;s({target:"Array",proto:!0,forced:!u("slice")},{slice:function(t,e){var i,s,u,m=c(this),g=o(m.length),h=r(t,g),v=r(void 0===e?g:e,g);if(n(m)&&(i=m.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?a(i)&&(i=i[f],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return d.call(m,h,v);for(s=new(void 0===i?Array:i)(p(v-h,0)),u=0;h<v;h++,u++)h in m&&l(s,u,m[h]);return s.length=u,s}})}}]);
//# sourceMappingURL=chunk-262ffa3d.a141987e.js.map